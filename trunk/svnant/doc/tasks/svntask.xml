<?xml version="1.0" encoding="UTF-8"?>
<mdoc name="svn" xmlns:xi="http://www.w3.org/2001/XInclude" header="true">

  <msection id="description" title="Description">
    
    <p>This task provides an interface to <a href="http://subversion.tigris.org">Subversion</a> 
    revision control system that is a compelling replacement for CVS in the open source community.</p>
      
    <p>The setup of these external tasks can be studied <a href="introduction.html#setup">here</a>.</p>
      
  </msection>

  <msection id="pararameters" title="Parameters">

    <p>The following parameters are supported by the <i>svn</i> task:</p>

    <attributes>

      <attribute name="username" required="false">
        <doc>username that will be used for all nested svn commands.</doc>
      </attribute>
  
      <attribute name="password" required="false">
        <doc>password that will be used for all nested svn commands.</doc>
      </attribute>

      <attribute name="javahl" required="false" default="true">
        <doc>Set to "false" to use command line client interface instead of JNI JavaHL binding.</doc>
      </attribute>

      <attribute name="svnkit" required="false" default="false">
       <doc>Set to "false" to use command line client interface instead of SVNKit binding.</doc>
      </attribute>

      <attribute name="dateFormatter" required="false" default="MM/DD/YYYY HH:MM AM_PM">
        <doc>formatter definition used to format/parse dates (e.g. when revision is specified as date).</doc>
      </attribute>

      <attribute name="dateTimeZone" required="false" default="local">
        <doc>time zone used to format/parse dates (e.g. when revision is specified as date).</doc>
      </attribute>

      <attribute name="failonerror" required="false" default="true">
        <doc>Controls whether an error stops the build or is merely reported to the screen.</doc>
      </attribute>
    
      <attribute name="logFile" required="false">
        <doc>Write the output of the commands into the log file instead of the console.</doc>
      </attribute>
      
      <attribute name="refid" required="false">
        <doc>If set the configuration for this task is taken from a <ref id="svnsetting">svnSetting</ref> object. Such a settings instance simply provides default values, so they will be overridden in case the corresponding attribute on this task has been set.</doc>
      </attribute>

      <attribute name="sshkeypath" required="false">
        <doc>Specifies the location of a SSH private key.</doc>
        <doc>UNTESTED FEATURE: NOT SUPPORTED BY THE COMMANDLINE CLIENT ! SUBJECT TO CHANGE !</doc>
      </attribute> 

      <attribute name="sshpassphrase" required="false">
        <doc>Specifies the passphrase for the SSH private key.</doc>
        <doc>UNTESTED FEATURE: NOT SUPPORTED BY THE COMMANDLINE CLIENT ! SUBJECT TO CHANGE !</doc>
      </attribute> 

      <attribute name="sshport" required="false" default="22">
        <doc>The port to be used when connecting using SSH. If the connection URL contains
        a port number this will be used instead.</doc>
        <doc>UNTESTED FEATURE: NOT SUPPORTED BY THE COMMANDLINE CLIENT ! SUBJECT TO CHANGE !</doc>
      </attribute> 
 
      <attribute name="sslclientcertpath" required="false">
        <doc>The path of a SSL client certificate.</doc>
        <doc>UNTESTED FEATURE: NOT SUPPORTED BY THE COMMANDLINE CLIENT ! SUBJECT TO CHANGE !</doc>
      </attribute> 

      <attribute name="sslpassword" required="false">
        <doc>The password for the SSL connection.</doc>
        <doc>UNTESTED FEATURE: NOT SUPPORTED BY THE COMMANDLINE CLIENT ! SUBJECT TO CHANGE !</doc>
      </attribute> 

      <attribute name="certreject" required="false" default="false">
        <doc>Boolean which allows to reject untrusted certificates in general. By default they are
        accepted temporarily (we don't want to break with previous implementations).</doc>
        <doc>UNTESTED FEATURE: NOT SUPPORTED BY THE COMMANDLINE CLIENT ! SUBJECT TO CHANGE !</doc>
      </attribute> 

    </attributes>
  
  </msection>

  <msection id="svncommands" title="Svn commands specified as nested elements" indexing="true">
    
    <xi:include href="commands/add.xml"/>
    <xi:include href="commands/cat.xml"/>
    <xi:include href="commands/checkout.xml"/>
    <xi:include href="commands/cleanup.xml"/>
    <xi:include href="commands/commit.xml"/>
    <xi:include href="commands/copy.xml"/>
    <xi:include href="commands/createrepository.xml"/>
    <xi:include href="commands/delete.xml"/>
    <xi:include href="commands/diff.xml"/>
    <xi:include href="commands/diffsummarize.xml"/>
    <xi:include href="commands/export.xml"/>
    <xi:include href="commands/ignore.xml"/>
    <xi:include href="commands/import.xml"/>
    <xi:include href="commands/info.xml"/>
    <xi:include href="commands/keywordsadd.xml"/>
    <xi:include href="commands/keywordsremove.xml"/>
    <xi:include href="commands/keywordsset.xml"/>
    <xi:include href="commands/list.xml"/>
    <xi:include href="commands/log.xml"/>
    <xi:include href="commands/mkdir.xml"/>
    <xi:include href="commands/move.xml"/>
    <xi:include href="commands/propdel.xml"/>
    <xi:include href="commands/propget.xml"/>
    <xi:include href="commands/propset.xml"/>
    <xi:include href="commands/revert.xml"/>
    <xi:include href="commands/singleinfo.xml"/>
    <xi:include href="commands/status.xml"/>
    <xi:include href="commands/switch.xml"/>
    <xi:include href="commands/update.xml"/>
    <xi:include href="commands/wcversion.xml"/>
    
  </msection>

  <msection id="examples" title="Examples">
  
    <snippet type="xml">
      &lt;svn javahl="${javahl}"&gt;
          &lt;checkout url="${urlRepos}" destPath="workingcopy" /&gt;
      &lt;/svn&gt;
    </snippet>
    <p>checkouts a working copy from repository</p>
  
    <snippet type="xml">
      &lt;svn&gt;
          &lt;delete&gt;
              &lt;fileset dir="workingcopy/deleteTest"&gt;
                  &lt;include name="**/*.del"/&gt;
              &lt;/fileset&gt;
          &lt;/delete&gt;
          &lt;commit message="commit deleted files" dir="workingcopy/deleteTest"/&gt;
      &lt;/svn>    
    </snippet>
    <p>deletes some files from repository (and commit changes)</p>
  
    <snippet type="xml">
      &lt;svn&gt;
          &lt;add dir="workingcopy/propTest"/&gt;
          &lt;commit message="propTest added" dir="workingcopy/propTest"/&gt;
          &lt;propset 
              path="workingcopy/propTest/file.png" 
              name="svn:mime-type" 
              value="image/png"
          /&gt;
          &lt;propset 
              path="workingcopy/propTest/file.png" 
              name="myPicture" 
              file="workingcopy/propTest/icon.gif"
          /&gt;
      &lt;/svn>
    </snippet>
    <p>add my_repos/propTest to repository and set two properties on file.png</p>
    <p>subversion command line interface is used (javahl="false").</p>
  
    <snippet type="xml">
      &lt;svnSetting
          svnkit="true"
          username="bingo"
          password="bongo"
          id="svn.settings"
      /&gt;
      ...
      &lt;svn refid="svn.settings" failonerror="false"&gt;
        ...
      &lt;/svn&gt;
    </snippet>
    <p>Declaration of basic subversion settings and their reference. This little snippet 
    also shows that a setting can be overriden in the end (failonerror).</p>
  
  </msection>
  
</mdoc>